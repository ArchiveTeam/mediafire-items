cat "$1" | python3 -c "import sys; from urllib.parse import unquote; print(unquote(sys.stdin.read()));" | grep -Po '(mediafire\.com|mfi\.re)/\S*' | grep -Po '(/|%(25)*2F)convkey(/|%(25)*2F)((?!%(25)*2F)[^/])+(/|%(25)*2F)\K[0-9a-zA-Z]{10,31}(?=[0-9a-z]g\.jpg)|(%(25)*[0-9A-Fa-f]{2}|[^0-9a-zA-Z])\K[0-9a-zA-Z]{10,31}(?=[^0-9a-zA-Z]|$)' | tr '[:upper:]' '[:lower:]' | sort | uniq | sed 's/^/id:/' > "$1"-ids.txt
